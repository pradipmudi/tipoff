var Tipoff=function(){function d(e,t){var n=new(window.XMLHttpRequest||window.ActiveXObject)("MSXML2.XMLHTTP.3.0");n.open("POST",Tipoff.url,1),n.setRequestHeader("X-Requested-With","XMLHttpRequest"),n.setRequestHeader("Content-type","application/json"),n.onreadystatechange=function(){3<n.readyState&&t&&t(n.responseText,n)},n.send(JSON.stringify(e))}return{version:"0.0.1",sendTip:function(e){try{if(!this.projectId||0===this.projectId.length||!this.url||0===this.url.length)return console.log("Tipoff setup is invalid. Call Tipoff.setup(<projectId>, <apiURL>) before sending Tips."),!1;if(!e)return console.log("Invalid arguments. Tip was not sent."),!1;var t=e.eventType;if(!t||t.length<=0)return console.log("eventType is missing.Tip was not sent. "),!1;var n=e.eventTitle;if(!n||n.length<=0)return console.log("eventTitle is missing.Tip was not sent. "),!1;var i=!!e.sendStackTrace&&e.sendStackTrace,s=e.error,o=e.tags?e.tags:[],r=e.note?e.note:[],a=e.user,c=e.callback,l=!!e.captureScreenshot&&e.captureScreenshot,p={projectId:this.projectId,eventType:t,eventTitle:n,tags:o,note:r,user:a};if(i){var u="";if(s)u=s.stack;else try{throw new Error}catch(e){u=e.stack}p.eventStack={stackTrace:u}}l?window.html2canvas(document.body,{foreignObjectRendering:!0}).then(function(e){p.screenshot=e.toDataURL(),d(p,c)}):d(p,c)}catch(e){console.log(e)}},setup:function(e,t){return e&&0!==e.length?t&&0!==t.length?(this.projectId=e,void(this.url=t)):(console.log("Tipoff setup is invalid. Valid url for Add Tip API is required. Tips will not be sent."),!1):(console.log("Tipoff setup is invalid. Valid projectId is required. Tips will not be sent."),!1)}}}();